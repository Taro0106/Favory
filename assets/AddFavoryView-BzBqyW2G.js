import{_ as F,r as s,c as v,b as r,d as t,p as n,v as _,s as V,u as b,t as h,j as g,x as D,g as C,h as B,n as N}from"./index-CaJ_Tkz4.js";const A={class:"container"},M={class:"form-card"},S={class:"upload-section"},T={class:"cute-upload-btn"},$={key:0},j={key:1},I={key:0,class:"preview-container"},O=["src"],P={class:"row"},Q={class:"row rating-row"},E={class:"stars"},L=["disabled"],q="dn6r2yt4y",z="Favory",G={__name:"addFavory",setup(w){const y=s(!1),l=s(""),o=s(""),p=s("æ¼«ç•«"),m=s("æœªå®Œçµ"),u=s(5),i=s(""),c=s(!1);s([]);const x=async d=>{const e=d.target.files[0];if(!e)return;c.value=!0;const a=new FormData;a.append("file",e),a.append("upload_preset",z);try{const f=await(await fetch(`https://api.cloudinary.com/v1_1/${q}/image/upload`,{method:"POST",body:a})).json();f.secure_url&&(o.value=f.secure_url)}catch{alert("åœ–ç‰‡å‚³é€å¤±æ•— Q_Q")}finally{c.value=!1}},U=async()=>{if(!l.value)return alert("è«‹è¼¸å…¥åç¨±ï¼");if(!o.value)return alert("è«‹æŒ‘é¸åœ–ç‰‡ï¼");if(!g.currentUser)return alert("ç™»å…¥å¾Œæ‰èƒ½æ”¶è—å–”ï¼");try{await D(C(B,"myFavoryList"),{name:l.value,image:o.value,category:p.value,status:m.value,rating:u.value,comment:i.value,uid:g.currentUser.uid,createdAt:new Date}),l.value="",o.value="",i.value="",y.value=!1}catch(d){console.error(d)}};return(d,e)=>(r(),v("div",A,[e[9]||(e[9]=t("h1",{class:"main-title"},"ðŸŒ¸ æ–°å¢žFavory ðŸŒ¸",-1)),t("div",M,[n(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),class:"cute-input",placeholder:"âœ¨ è¼¸å…¥ä½œå“åç¨±..."},null,512),[[_,l.value]]),t("div",S,[t("label",T,[t("input",{type:"file",onChange:x,accept:"image/*"},null,32),c.value?(r(),v("span",j,"ðŸª„ é­”æ³•å‚³é€ä¸­...")):(r(),v("span",$,"ðŸ“· æŒ‘é¸å°é¢åœ–"))]),o.value?(r(),v("div",I,[t("img",{src:o.value,class:"cute-preview"},null,8,O),t("button",{onClick:e[1]||(e[1]=a=>o.value=""),class:"remove-btn"},"âœ•")])):V("",!0)]),t("div",P,[n(t("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>p.value=a),class:"cute-select"},[...e[6]||(e[6]=[t("option",{value:"æ¼«ç•«"},"ðŸ“– æ¼«ç•«",-1),t("option",{value:"å‹•æ¼«"},"ðŸ“º å‹•æ¼«",-1)])],512),[[b,p.value]]),n(t("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>m.value=a),class:"cute-select"},[...e[7]||(e[7]=[t("option",{value:"å®Œçµ"},"âœ… å®Œçµ",-1),t("option",{value:"æœªå®Œçµ"},"â³ æœªå®Œçµ",-1)])],512),[[b,m.value]])]),t("div",Q,[e[8]||(e[8]=t("span",null,"è©•åˆ†ï¼š",-1)),n(t("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=a=>u.value=a),min:"1",max:"5",class:"cute-number"},null,512),[[_,u.value]]),t("span",E,h("â­".repeat(u.value)),1)]),n(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=a=>i.value=a),class:"cute-textarea",placeholder:"ðŸ’¬ å¯«é»žæ‚„æ‚„è©±å§..."},null,512),[[_,i.value]]),t("button",{onClick:U,class:"submit-btn",disabled:c.value},"æ–°å¢žåˆ°å°æœ¬æœ¬ âœ¨",8,L)])]))}},H=F(G,[["__scopeId","data-v-232e085b"]]),K={__name:"AddFavoryView",setup(w){return(y,l)=>(r(),N(H))}};export{K as default};
